# Requirements Index (YAML Database)
#
# This YAML file serves as the central index/registry for all requirements in the project.
# Each top-level key is a semantic token (e.g., REQ-STDD_SETUP).
#
# To append a new requirement:
# 1. Copy the template block at the bottom of this file (REQ-IDENTIFIER)
# 2. Paste it at the end with a blank line before it
# 3. Replace REQ-IDENTIFIER with your new token
# 4. Fill in all fields
# 5. Update the detail_file path to match your new .md file in requirements/ directory
#
# Field descriptions:
#   name: Short descriptive name of the requirement
#   category: Functional | Non-Functional | Immutable
#   priority: P0 (Critical) | P1 (Important) | P2 (Nice-to-have) | P3 (Future)
#   status: "Implemented" | "Planned" | "Template"
#   rationale: Structured explanation with why, problems_solved, benefits
#   satisfaction_criteria: List of criterion items with optional metrics
#   validation_criteria: List of validation method items with coverage details
#   traceability: Structured links to architecture, implementation, tests, code_annotations
#   related_requirements: Lists of depends_on, related_to, supersedes (YAML lists or [])
#   detail_file: Path to the detailed .md file in requirements/ directory
#   metadata: Structured metadata with created, last_updated, last_validated info
REQ-STDD_SETUP:
  name: STDD Methodology Setup
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "To ensure traceability of intent from requirements to code and to maintain a consistent development process"
    problems_solved:
      - "Loss of intent during development lifecycle"
      - "Difficulty tracking requirements through architecture to implementation"
      - "Inconsistent documentation practices across projects"
    benefits:
      - "Complete traceability from requirements to code"
      - "Consistent development methodology"
      - "AI-friendly documentation structure"
  satisfaction_criteria:
    - criterion: "stdd/ directory exists with proper structure"
    - criterion: "All required documentation files exist and are populated from templates"
    - criterion: ".cursorrules contains the STDD rules"
  validation_criteria:
    - method: "Manual verification"
      coverage: "File existence checks"
    - method: "AI agent acknowledgment"
      coverage: "Agent responds with 'Observing AI principles!'"
  traceability:
    architecture:
      - ARCH-STDD_STRUCTURE
    implementation:
      - IMPL-STDD_FILES
    tests:
      - Manual verification checklists
    code_annotations:
      - REQ-STDD_SETUP
  related_requirements:
    depends_on: []
    related_to: []
    supersedes: []
  detail_file: requirements/REQ-STDD_SETUP.md
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-MODULE_VALIDATION:
  name: Independent Module Validation Before Integration
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "To eliminate bugs related to code complexity by ensuring each module works correctly in isolation before combining with other modules"
    problems_solved:
      - "Integration complexity causing difficult-to-debug issues"
      - "Bugs discovered too late in the development cycle"
      - "Module contracts not properly validated before integration"
    benefits:
      - "Bugs caught early before integration"
      - "Reduced integration complexity"
      - "Clear module boundaries and contracts"
      - "Easier debugging by isolating issues to specific modules"
  satisfaction_criteria:
    - criterion: "All logical modules are identified and documented with clear boundaries before development"
    - criterion: "Module interfaces and contracts are defined and documented"
    - criterion: "Module validation criteria are specified"
      metric: "What 'validated' means is explicitly defined for each module"
    - criterion: "Each module passes independent validation before integration"
      metric: "Unit tests with mocks, integration tests with test doubles, contract validation, edge case testing, error handling validation all passing"
  validation_criteria:
    - method: "Manual verification"
      coverage: "Modules identified and documented before development starts"
    - method: "Automated testing"
      coverage: "Module validation tests exist and pass before integration"
    - method: "Code review"
      coverage: "Integration code references validated modules"
  traceability:
    architecture:
      - ARCH-MODULE_VALIDATION
    implementation:
      - IMPL-MODULE_VALIDATION
    tests:
      - testModuleName_IndependentValidation_REQ_MODULE_VALIDATION
    code_annotations:
      - REQ-MODULE_VALIDATION
  related_requirements:
    depends_on:
      - REQ-STDD_SETUP
    related_to: []
    supersedes: []
  detail_file: requirements/REQ-MODULE_VALIDATION.md
  metadata:
    created:
      date: 2025-01-27
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-APP_STRUCTURE:
  name: Next.js App Router Application Structure
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "App Router provides better performance through server components, improved data fetching patterns, and simplified routing"
    problems_solved:
      - "Complex client-side routing and data fetching patterns"
      - "Performance overhead of client-side rendering for all content"
    benefits:
      - "Better performance through server components"
      - "Simplified routing with file-based system"
      - "Modern React features support"
      - "Future scalability"
  satisfaction_criteria:
    - criterion: "Next.js 16.1+ is installed and configured"
    - criterion: "App Router directory structure (src/app/) exists"
    - criterion: "File-based routing works correctly"
    - criterion: "Server components render by default"
    - criterion: "Build and development scripts execute successfully"
  validation_criteria:
    - method: "Manual testing"
      coverage: "Application starts without errors using npm run dev"
    - method: "Build validation"
      coverage: "Application builds successfully using npm run build"
    - method: "Route testing"
      coverage: "Routes defined in src/app/ are accessible"
  traceability:
    architecture:
      - ARCH-NEXTJS_FRAMEWORK
      - ARCH-APP_ROUTER
    implementation:
      - IMPL-ROOT_LAYOUT
      - IMPL-HOME_PAGE
    tests:
      - Integration tests for routes
    code_annotations:
      - REQ-APP_STRUCTURE
  related_requirements:
    depends_on: []
    related_to:
      - REQ-BUILD_SYSTEM
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-ROOT_LAYOUT:
  name: Root Layout with HTML Structure
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Root layouts in Next.js App Router enable shared UI across all routes, consistent font loading, and metadata management"
    problems_solved:
      - "Code duplication across pages"
      - "Inconsistent styling and behavior"
      - "Complex font loading management"
    benefits:
      - "Shared UI across all routes"
      - "Consistent font loading"
      - "Centralized metadata management"
      - "Reduced code duplication"
  satisfaction_criteria:
    - criterion: "Root layout exists at src/app/layout.tsx"
    - criterion: "Layout exports default function matching Next.js RootLayout type"
    - criterion: "Layout includes <html> tag with lang attribute"
    - criterion: "Layout includes <body> tag with appropriate styling"
    - criterion: "Layout renders children prop correctly"
    - criterion: "Font variables are applied to body element"
  validation_criteria:
    - method: "Component testing"
      coverage: "Layout component renders without errors"
    - method: "Integration testing"
      coverage: "All pages are wrapped by the layout automatically"
    - method: "TypeScript validation"
      coverage: "TypeScript compilation passes without layout-related errors"
  traceability:
    architecture:
      - ARCH-LAYOUT_PATTERN
    implementation:
      - IMPL-ROOT_LAYOUT
    tests:
      - Layout component tests
    code_annotations:
      - REQ-ROOT_LAYOUT
  related_requirements:
    depends_on:
      - REQ-APP_STRUCTURE
    related_to:
      - REQ-FONT_SYSTEM
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-HOME_PAGE:
  name: Home Page with Welcome Content
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "A welcoming home page provides immediate value to users, guides them to next steps, and demonstrates the application's capabilities"
    problems_solved:
      - "Lack of clear entry point for users"
      - "Missing guidance for next steps"
    benefits:
      - "Clear entry point for users"
      - "Guidance to learning resources"
      - "Template for future page development"
  satisfaction_criteria:
    - criterion: "Home page exists at src/app/page.tsx"
    - criterion: "Page displays Next.js logo using Next.js Image component"
    - criterion: "Page includes welcome content and links"
    - criterion: "All links open in new tabs with security attributes"
  validation_criteria:
    - method: "Page rendering"
      coverage: "Home page renders at root URL (/)"
    - method: "Content validation"
      coverage: "All text content is visible and readable"
    - method: "Link validation"
      coverage: "All links are clickable and include proper security attributes"
  traceability:
    architecture:
      - ARCH-SERVER_COMPONENTS
    implementation:
      - IMPL-HOME_PAGE
    tests:
      - Home page component tests
    code_annotations:
      - REQ-HOME_PAGE
  related_requirements:
    depends_on:
      - REQ-APP_STRUCTURE
    related_to:
      - REQ-BRANDING
      - REQ-NAVIGATION_LINKS
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-NAVIGATION_LINKS:
  name: External Navigation Links
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "External links guide users to additional resources for learning and deployment"
    problems_solved:
      - "Lack of guidance to external resources"
      - "Security vulnerabilities from improper link handling"
    benefits:
      - "Easy access to learning resources"
      - "Secure external link handling"
      - "Preserved application state when opening new tabs"
  satisfaction_criteria:
    - criterion: "Links to Templates, Learning Center, Deploy, and Documentation are present"
    - criterion: "Links have target='_blank' to open in new tabs"
    - criterion: "Links have rel='noopener noreferrer' for security"
  validation_criteria:
    - method: "Link testing"
      coverage: "All links are clickable and navigate correctly"
    - method: "Security validation"
      coverage: "Security attributes are present in DOM"
  traceability:
    architecture:
      - ARCH-APP_ROUTER
    implementation:
      - IMPL-EXTERNAL_LINKS
    tests:
      - Link component tests
    code_annotations:
      - REQ-NAVIGATION_LINKS
  related_requirements:
    depends_on: []
    related_to:
      - REQ-HOME_PAGE
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-BRANDING:
  name: Next.js Branding Elements
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Branding elements provide visual identity and attribution"
    problems_solved:
      - "Lack of visual identity"
      - "Suboptimal image loading performance"
    benefits:
      - "Clear visual identity"
      - "Optimal loading performance with Next.js Image"
      - "Automatic responsive sizing and modern formats"
  satisfaction_criteria:
    - criterion: "Next.js logo displays at top of home page"
    - criterion: "Logos use Next.js Image component"
    - criterion: "Logos have appropriate alt text for accessibility"
    - criterion: "Logos invert in dark mode"
  validation_criteria:
    - method: "Visual inspection"
      coverage: "Logos render without errors"
    - method: "Performance testing"
      coverage: "Images are optimized (responsive, modern formats)"
    - method: "Accessibility testing"
      coverage: "Alt text is present and descriptive"
  traceability:
    architecture:
      - ARCH-NEXTJS_FRAMEWORK
    implementation:
      - IMPL-IMAGE_OPTIMIZATION
    tests:
      - Image component tests
    code_annotations:
      - REQ-BRANDING
  related_requirements:
    depends_on: []
    related_to:
      - REQ-HOME_PAGE
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-RESPONSIVE_DESIGN:
  name: Responsive Layout Design
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Modern web applications must work on all device types with a mobile-first approach"
    problems_solved:
      - "Poor mobile experience"
      - "Inconsistent layout across device sizes"
    benefits:
      - "Good performance on smaller devices"
      - "Progressive enhancement for larger screens"
      - "Meets web best practices and user expectations"
  satisfaction_criteria:
    - criterion: "Layout adjusts based on viewport width"
    - criterion: "Mobile-first breakpoints are used"
    - criterion: "Content is readable on mobile devices (320px+)"
    - criterion: "No horizontal scrolling on any screen size"
  validation_criteria:
    - method: "Visual inspection"
      coverage: "Various viewport sizes (320px, 768px, 1024px, 1920px)"
    - method: "Responsive testing"
      coverage: "Content flows properly without overflow"
  traceability:
    architecture:
      - ARCH-RESPONSIVE_FIRST
    implementation:
      - IMPL-RESPONSIVE_CLASSES
    tests:
      - Responsive layout tests
    code_annotations:
      - REQ-RESPONSIVE_DESIGN
  related_requirements:
    depends_on: []
    related_to:
      - REQ-TAILWIND_STYLING
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-DARK_MODE:
  name: Dark Mode Theme Support
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Dark mode is a modern UI expectation that improves user experience in low-light conditions"
    problems_solved:
      - "Eye strain in low-light environments"
      - "Battery drain on OLED displays"
      - "Lack of user preference respect"
    benefits:
      - "Improved user experience in low-light conditions"
      - "Reduced eye strain"
      - "Battery savings on OLED displays"
      - "Automatic system preference detection"
  satisfaction_criteria:
    - criterion: "Application detects system dark mode preference automatically"
    - criterion: "Color scheme switches between light and dark modes"
    - criterion: "All UI elements have appropriate dark mode variants"
    - criterion: "Text remains readable in both modes"
  validation_criteria:
    - method: "System preference testing"
      coverage: "Application switches theme when system preference changes"
    - method: "Contrast testing"
      coverage: "All text has sufficient contrast in both modes (WCAG AA minimum)"
  traceability:
    architecture:
      - ARCH-CSS_VARIABLES
    implementation:
      - IMPL-DARK_MODE
    tests:
      - Dark mode tests
    code_annotations:
      - REQ-DARK_MODE
  related_requirements:
    depends_on: []
    related_to:
      - REQ-GLOBAL_STYLES
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-FONT_SYSTEM:
  name: Custom Font Loading System
  category: Non-Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Custom fonts improve brand consistency and visual appeal with efficient loading"
    problems_solved:
      - "Inconsistent typography"
      - "Layout shift during font loading"
      - "Large font file sizes"
    benefits:
      - "Brand consistency"
      - "No layout shift (CLS)"
      - "Automatic subsetting and preloading"
      - "Flexible font application via CSS variables"
  satisfaction_criteria:
    - criterion: "Geist Sans font loads for body text"
    - criterion: "Geist Mono font loads for monospace text"
    - criterion: "Fonts use next/font/google for optimization"
    - criterion: "Font loading doesn't cause layout shift"
    - criterion: "CSS variables are created for font families"
  validation_criteria:
    - method: "Visual testing"
      coverage: "Fonts are visible and correctly applied"
    - method: "Performance testing"
      coverage: "No Flash of Unstyled Text (FOUT), Lighthouse audit shows no layout shift"
  traceability:
    architecture:
      - ARCH-GOOGLE_FONTS
      - ARCH-CSS_VARIABLES_FONTS
    implementation:
      - IMPL-FONT_LOADING
    tests:
      - Font loading tests
    code_annotations:
      - REQ-FONT_SYSTEM
  related_requirements:
    depends_on: []
    related_to:
      - REQ-ROOT_LAYOUT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-TAILWIND_STYLING:
  name: Tailwind CSS Styling System
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Tailwind CSS enables rapid UI development with utility classes and reduces CSS bundle size"
    problems_solved:
      - "CSS naming complexity"
      - "Large CSS bundle sizes"
      - "Inconsistent design tokens"
    benefits:
      - "Rapid UI development with utility classes"
      - "Reduced CSS bundle size through purging"
      - "Consistent design tokens"
      - "Improved performance"
  satisfaction_criteria:
    - criterion: "Tailwind CSS v4 is installed and configured"
    - criterion: "PostCSS configuration includes Tailwind plugin"
    - criterion: "Utility classes work in all components"
    - criterion: "CSS is optimized/purged in production builds"
  validation_criteria:
    - method: "Class testing"
      coverage: "Tailwind classes apply correctly in browser"
    - method: "Build testing"
      coverage: "Production CSS bundle is optimized (unused styles removed)"
  traceability:
    architecture:
      - ARCH-TAILWIND_V4
    implementation:
      - IMPL-FLEX_LAYOUT
    tests:
      - Tailwind styling tests
    code_annotations:
      - REQ-TAILWIND_STYLING
  related_requirements:
    depends_on: []
    related_to:
      - REQ-RESPONSIVE_DESIGN
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-GLOBAL_STYLES:
  name: Global CSS with Theme Variables
  category: Non-Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "CSS custom properties enable dynamic theming and consistent color usage"
    problems_solved:
      - "Inconsistent color usage"
      - "Difficulty changing themes"
      - "Style duplication"
    benefits:
      - "Dynamic theming capability"
      - "Consistent color usage"
      - "Reduced duplication"
      - "Runtime theme switching support"
  satisfaction_criteria:
    - criterion: "globals.css file exists and is imported in layout"
    - criterion: "CSS variables defined for --background and --foreground colors"
    - criterion: "Variables have different values for light and dark modes"
    - criterion: "Base body styles are applied globally"
  validation_criteria:
    - method: "CSS inspection"
      coverage: "CSS variables are defined in :root"
    - method: "Dark mode testing"
      coverage: "Variables change when dark mode is active"
  traceability:
    architecture:
      - ARCH-CSS_VARIABLES
    implementation:
      - IMPL-DARK_MODE
    tests:
      - Global styles tests
    code_annotations:
      - REQ-GLOBAL_STYLES
  related_requirements:
    depends_on: []
    related_to:
      - REQ-DARK_MODE
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-ACCESSIBILITY:
  name: Semantic HTML and Accessibility
  category: Non-Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Accessibility ensures the application is usable by everyone, including people with disabilities"
    problems_solved:
      - "Barriers for users with disabilities"
      - "Poor SEO and screen reader compatibility"
      - "Legal compliance issues"
    benefits:
      - "Usable by everyone"
      - "Improved SEO"
      - "Legal compliance"
      - "Better screen reader compatibility"
  satisfaction_criteria:
    - criterion: "HTML uses semantic elements (main, nav, header, etc.)"
    - criterion: "Images have descriptive alt attributes"
    - criterion: "Heading hierarchy is logical"
    - criterion: "Links are keyboard accessible"
    - criterion: "Color contrast meets WCAG AA standards"
  validation_criteria:
    - method: "Lighthouse audit"
      coverage: "Accessibility audit passes with 90+ score"
    - method: "Screen reader testing"
      coverage: "Screen reader shows proper element identification"
    - method: "Keyboard testing"
      coverage: "Keyboard navigation works for all interactive elements"
  traceability:
    architecture:
      - ARCH-SERVER_COMPONENTS
    implementation:
      - IMPL-IMAGE_OPTIMIZATION
    tests:
      - Accessibility tests
    code_annotations:
      - REQ-ACCESSIBILITY
  related_requirements:
    depends_on: []
    related_to:
      - REQ-BRANDING
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-METADATA:
  name: Page Metadata Configuration
  category: Non-Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Proper metadata improves SEO and enables social media sharing with appropriate previews"
    problems_solved:
      - "Poor SEO performance"
      - "Missing social media previews"
      - "Lack of context for search engines"
    benefits:
      - "Improved SEO"
      - "Social media sharing support"
      - "Type-safe metadata with Next.js API"
  satisfaction_criteria:
    - criterion: "Root layout exports metadata object"
    - criterion: "Metadata includes title and description fields"
    - criterion: "Metadata appears in HTML <head> when rendered"
  validation_criteria:
    - method: "View source"
      coverage: "<title> and <meta description> tags are present"
    - method: "TypeScript validation"
      coverage: "TypeScript compilation validates metadata structure"
  traceability:
    architecture:
      - ARCH-NEXTJS_FRAMEWORK
    implementation:
      - IMPL-METADATA
    tests:
      - Metadata tests
    code_annotations:
      - REQ-METADATA
  related_requirements:
    depends_on: []
    related_to:
      - REQ-ROOT_LAYOUT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-TYPESCRIPT:
  name: TypeScript Type Safety
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "TypeScript prevents runtime errors through compile-time type checking and improves code maintainability"
    problems_solved:
      - "Runtime type errors"
      - "Poor code maintainability"
      - "Lack of IDE intelligence"
    benefits:
      - "Compile-time error prevention"
      - "Improved code maintainability"
      - "Enhanced IDE intelligence"
      - "Living documentation of data structures"
  satisfaction_criteria:
    - criterion: "All .tsx and .ts files use TypeScript"
    - criterion: "tsconfig.json exists with strict mode enabled"
    - criterion: "No TypeScript errors in compilation"
    - criterion: "Component props are typed"
  validation_criteria:
    - method: "Build testing"
      coverage: "npm run build completes without TypeScript errors"
    - method: "IDE testing"
      coverage: "IDE shows proper type hints and autocomplete"
  traceability:
    architecture:
      - ARCH-TYPESCRIPT_LANG
    implementation:
      - Multiple implementations
    tests:
      - TypeScript compilation tests
    code_annotations:
      - REQ-TYPESCRIPT
  related_requirements:
    depends_on: []
    related_to:
      - REQ-BUILD_SYSTEM
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-BUILD_SYSTEM:
  name: Next.js Build, Development, and Testing Scripts
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Standardized build and test scripts ensure consistent development environments and enable CI/CD integration"
    problems_solved:
      - "Inconsistent development environments"
      - "Lack of CI/CD integration"
      - "Code quality issues"
    benefits:
      - "Consistent development environments"
      - "CI/CD integration"
      - "Automated code quality checks"
      - "Fast test execution"
  satisfaction_criteria:
    - criterion: "npm run dev starts development server with hot reload"
    - criterion: "npm run build creates optimized production build"
    - criterion: "npm run start runs production server"
    - criterion: "npm run lint runs ESLint for code quality"
    - criterion: "npm test runs all tests"
    - criterion: "npm run test:coverage generates coverage report with 80%+ coverage"
  validation_criteria:
    - method: "Script testing"
      coverage: "All npm scripts execute successfully"
    - method: "Coverage testing"
      coverage: "Test coverage meets 80% threshold"
  traceability:
    architecture:
      - ARCH-NEXTJS_FRAMEWORK
      - ARCH-TEST_FRAMEWORK
    implementation:
      - IMPL-BUILD_SCRIPTS
      - IMPL-TEST_CONFIG
    tests:
      - Build and test script validation
    code_annotations:
      - REQ-BUILD_SYSTEM
  related_requirements:
    depends_on: []
    related_to:
      - REQ-APP_STRUCTURE
      - REQ-TYPESCRIPT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-ERROR_HANDLING:
  name: Root-Level Error Boundary
  category: Non-Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Root-level error boundaries provide graceful error recovery and prevent full application crashes"
    problems_solved:
      - "Application crashes on errors"
      - "Poor error user experience"
      - "Lack of error recovery"
    benefits:
      - "Graceful error recovery"
      - "Better user experience on errors"
      - "Production error handling"
  satisfaction_criteria:
    - criterion: "Global error boundary exists"
    - criterion: "Error boundary catches root-level errors"
    - criterion: "Error UI provides recovery options"
  validation_criteria:
    - method: "Error testing"
      coverage: "Error boundary catches and displays errors gracefully"
    - method: "User experience testing"
      coverage: "Users can recover from errors"
  traceability:
    architecture:
      - ARCH-NEXTJS_FRAMEWORK
    implementation:
      - IMPL-GLOBAL_ERROR_BOUNDARY
    tests:
      - Error boundary tests
    code_annotations:
      - REQ-ERROR_HANDLING
  related_requirements:
    depends_on: []
    related_to:
      - REQ-APP_STRUCTURE
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-CONFIG_DRIVEN_UI:
  name: Configuration-Driven UI
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Configuration-driven UI makes the project a highly-configurable template that users can customize without code changes"
    problems_solved:
      - "Hard-coded UI values requiring code changes"
      - "Difficult customization for template users"
      - "Lack of separation between content and code"
    benefits:
      - "Easy customization via YAML files"
      - "No code changes needed for appearance/content"
      - "Separation of concerns"
      - "Template reusability"
  satisfaction_criteria:
    - criterion: "Two YAML config files exist (config/site.yaml, config/theme.yaml)"
    - criterion: "All page text content comes from config"
    - criterion: "All navigation links come from config"
    - criterion: "All theme colors come from config"
    - criterion: "Partial config files work (missing values use defaults)"
  validation_criteria:
    - method: "Config loader testing"
      coverage: "Config loader unit tests pass (31 tests)"
    - method: "Integration testing"
      coverage: "Changing config values changes rendered output"
  traceability:
    architecture:
      - ARCH-CONFIG_DRIVEN_UI
      - ARCH-THEME_INJECTION
      - ARCH-CLASS_OVERRIDES
    implementation:
      - IMPL-YAML_CONFIG
      - IMPL-CONFIG_LOADER
      - IMPL-THEME_INJECTION
      - IMPL-CLASS_OVERRIDES
    tests:
      - Config loader tests
      - Integration tests
    code_annotations:
      - REQ-CONFIG_DRIVEN_UI
  related_requirements:
    depends_on: []
    related_to:
      - REQ-CONFIG_DRIVEN_APPEARANCE
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-CONFIG_DRIVEN_APPEARANCE:
  name: All Page Elements Appearance and Layout from Config
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "For the project to serve as a truly configurable template, ALL page elements must be dictated by configuration"
    problems_solved:
      - "Hard-coded classes and copy in components"
      - "Incomplete template configurability"
      - "Code changes required for customization"
    benefits:
      - "Complete configurability"
      - "True template reusability"
      - "No code changes for customization"
  satisfaction_criteria:
    - criterion: "Home and root layout use config for all appearance and layout"
    - criterion: "Jobs pages use config for all appearance and layout"
    - criterion: "Status badge colors defined in config"
    - criterion: "Single source of truth: config files"
  validation_criteria:
    - method: "Config testing"
      coverage: "Changing config changes appearance without code changes"
    - method: "Code inspection"
      coverage: "No hard-coded user-facing text or layout classes in TSX"
  traceability:
    architecture:
      - ARCH-CONFIG_DRIVEN_UI
      - ARCH-CONFIG_DRIVEN_APPEARANCE
    implementation:
      - IMPL-CONFIG_LOADER
      - IMPL-CONFIG_DRIVEN_APPEARANCE
    tests:
      - Config-driven appearance tests
    code_annotations:
      - REQ-CONFIG_DRIVEN_APPEARANCE
  related_requirements:
    depends_on:
      - REQ-CONFIG_DRIVEN_UI
    related_to: []
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_DATA:
  name: Job Position Data Storage and Retrieval
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need to track job opportunities throughout their job search process with persistent storage"
    problems_solved:
      - "No way to track job search progress"
      - "Data loss across sessions"
      - "Complex database setup"
    benefits:
      - "Persistent job tracking"
      - "Human-readable YAML storage"
      - "Version-controllable data"
      - "No database required"
  satisfaction_criteria:
    - criterion: "Job position data stored in YAML format"
    - criterion: "Each position has unique ID and required fields"
    - criterion: "Data persists across application restarts"
    - criterion: "YAML format is valid and parseable"
  validation_criteria:
    - method: "Data persistence testing"
      coverage: "Data persists after server restart"
    - method: "YAML validation"
      coverage: "Config loader successfully reads and parses YAML"
  traceability:
    architecture:
      - ARCH-JOB_TRACKER_STORAGE
    implementation:
      - IMPL-JOBS_DATA
    tests:
      - Job data persistence tests
    code_annotations:
      - REQ-JOB_TRACKER_DATA
  related_requirements:
    depends_on:
      - REQ-CONFIG_DRIVEN_UI
    related_to:
      - REQ-JOB_TRACKER_LIST
      - REQ-JOB_TRACKER_EDIT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_LIST:
  name: View All Job Positions in Table
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need to see an overview of all job positions at a glance to track their job search progress"
    problems_solved:
      - "No overview of job search pipeline"
      - "Difficulty tracking multiple positions"
    benefits:
      - "Clear overview of all positions"
      - "Easy identification of opportunities"
      - "Pipeline management"
  satisfaction_criteria:
    - criterion: "Page accessible at /jobs route"
    - criterion: "Table displays key information (title, date, status, actions)"
    - criterion: "Application status is color-coded"
    - criterion: "Table is responsive"
    - criterion: "Empty state message when no positions exist"
  validation_criteria:
    - method: "Page testing"
      coverage: "Page renders without errors"
    - method: "Data display testing"
      coverage: "All position data displays correctly"
    - method: "Responsive testing"
      coverage: "Table is usable on mobile viewport"
  traceability:
    architecture:
      - ARCH-JOB_TRACKER_UI
    implementation:
      - IMPL-JOBS_LIST_PAGE
    tests:
      - Jobs list page tests
    code_annotations:
      - REQ-JOB_TRACKER_LIST
  related_requirements:
    depends_on:
      - REQ-JOB_TRACKER_DATA
    related_to:
      - REQ-JOB_TRACKER_EDIT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_EDIT:
  name: Edit Job Position Records
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need to capture detailed information about job opportunities and update records as they progress"
    problems_solved:
      - "No way to add new positions"
      - "Cannot update existing records"
      - "Missing detailed information capture"
    benefits:
      - "Complete information capture"
      - "Progress tracking through updates"
      - "Detailed record management"
  satisfaction_criteria:
    - criterion: "Page accessible at /jobs/edit/[id] route"
    - criterion: "Form includes all required fields"
    - criterion: "Form validates required fields"
    - criterion: "Form submits data via API route"
    - criterion: "Support for creating new and editing existing positions"
  validation_criteria:
    - method: "Form testing"
      coverage: "Form renders with correct fields and validation"
    - method: "Data persistence testing"
      coverage: "Successful submission saves data to YAML file"
  traceability:
    architecture:
      - ARCH-JOB_TRACKER_UI
    implementation:
      - IMPL-JOBS_EDIT_PAGE
    tests:
      - Jobs edit page tests
    code_annotations:
      - REQ-JOB_TRACKER_EDIT
  related_requirements:
    depends_on:
      - REQ-JOB_TRACKER_DATA
    related_to:
      - REQ-JOB_TRACKER_LIST
      - REQ-JOB_TRACKER_CRUD
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_STATUS:
  name: Track Application Status with Dates and Notes
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Tracking application status helps users manage their job search pipeline and follow up at appropriate times"
    problems_solved:
      - "Lost track of application progress"
      - "Missed follow-up opportunities"
      - "Lack of search activity records"
    benefits:
      - "Clear pipeline management"
      - "Timely follow-ups"
      - "Complete activity records"
  satisfaction_criteria:
    - criterion: "Five status types available (none, interested, to apply, applied, rejected)"
    - criterion: "Status includes optional date and notes fields"
    - criterion: "Status displays with color coding in list view"
    - criterion: "Status can be updated via edit form"
  validation_criteria:
    - method: "Status tracking testing"
      coverage: "Status changes persist to YAML storage"
    - method: "Display testing"
      coverage: "Status colors display correctly in list view"
  traceability:
    architecture:
      - ARCH-JOB_TRACKER_STORAGE
    implementation:
      - IMPL-JOBS_DATA
    tests:
      - Status tracking tests
    code_annotations:
      - REQ-JOB_TRACKER_STATUS
  related_requirements:
    depends_on:
      - REQ-JOB_TRACKER_DATA
    related_to:
      - REQ-JOB_TRACKER_EDIT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_CRUD:
  name: Create, Update, and Delete Job Positions
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need full control over their job position data to manage their job search effectively"
    problems_solved:
      - "Cannot add new positions"
      - "Cannot update existing positions"
      - "Cannot remove irrelevant positions"
    benefits:
      - "Full data control"
      - "Effective job search management"
      - "Data integrity"
  satisfaction_criteria:
    - criterion: "API endpoint accepts POST requests to create/update positions"
    - criterion: "API endpoint accepts DELETE requests to remove positions"
    - criterion: "Create operation generates unique ID"
    - criterion: "All operations write to YAML file and maintain file validity"
  validation_criteria:
    - method: "API testing"
      coverage: "POST successfully creates and updates, DELETE successfully removes"
    - method: "Data integrity testing"
      coverage: "YAML file remains valid after all operations"
  traceability:
    architecture:
      - ARCH-JOB_TRACKER_API
    implementation:
      - IMPL-JOBS_API
    tests:
      - CRUD API tests
    code_annotations:
      - REQ-JOB_TRACKER_CRUD
  related_requirements:
    depends_on:
      - REQ-JOB_TRACKER_DATA
    related_to:
      - REQ-JOB_TRACKER_EDIT
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-JOB_TRACKER_CALENDAR:
  name: Calendar Month View for Positions and Applications
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "A calendar view provides users with a visual timeline of their job search activity for pattern identification and follow-up planning"
    problems_solved:
      - "No visual timeline of activity"
      - "Difficulty seeing temporal patterns"
      - "Hard to plan follow-ups"
    benefits:
      - "Visual timeline of activity"
      - "Pattern identification"
      - "Month-at-a-glance view"
      - "Complements table view"
  satisfaction_criteria:
    - criterion: "Page accessible at /jobs/calendar route"
    - criterion: "Calendar displays one month at a time in 7-column grid"
    - criterion: "Positions appear on posting date, applications on application date"
    - criterion: "Month navigation controls work (Previous, Next, Today)"
    - criterion: "Clicking items displays details in panel above grid"
    - criterion: "All UI elements are config-driven"
  validation_criteria:
    - method: "Page testing"
      coverage: "Page renders without errors at /jobs/calendar"
    - method: "Calendar testing"
      coverage: "Items appear on correct dates, navigation updates month"
    - method: "Config testing"
      coverage: "All text comes from config (no hard-coded labels)"
  traceability:
    architecture:
      - ARCH-CALENDAR_VIEW
    implementation:
      - IMPL-CALENDAR_PAGE
      - IMPL-CALENDAR_GRID
    tests:
      - Calendar view tests
    code_annotations:
      - REQ-JOB_TRACKER_CALENDAR
  related_requirements:
    depends_on:
      - REQ-JOB_TRACKER_DATA
      - REQ-CONFIG_DRIVEN_APPEARANCE
    related_to:
      - REQ-JOB_TRACKER_LIST
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2025-11-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-06
      author: "AI Agent"
      reason: "Migration to v1.5.0"
    last_validated:
      date: 2026-02-06
      validator: "AI Agent"
      result: "pass"
REQ-FILE_MANAGER_PAGE:
  name: Multi-Pane File Manager Page
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Provide a terminal-like multi-pane file manager for browsing and managing server filesystem"
    problems_solved:
      - "No visual file management interface"
      - "Difficulty comparing files across directories"
      - "Manual command-line file operations"
    benefits:
      - "Visual multi-pane file navigation"
      - "Cross-pane file comparison"
      - "Keyboard-driven terminal-like interface"
      - "Efficient file operations"
  satisfaction_criteria:
    - criterion: "Page accessible at /files route"
    - criterion: "Displays 2-4 panes simultaneously"
    - criterion: "Keyboard navigation works (arrows, Tab, Enter, Backspace)"
    - criterion: "Panes can be added/removed dynamically"
  validation_criteria:
    - method: "Page testing"
      coverage: "Page renders without errors at /files"
    - method: "Navigation testing"
      coverage: "All keyboard shortcuts work correctly"
    - method: "Layout testing"
      coverage: "Multiple layout types render properly"
  traceability:
    architecture:
      - ARCH-FILE_MANAGER_HIERARCHY
    implementation:
      - IMPL-FILE_MANAGER_PAGE
    tests:
      - File manager page tests
    code_annotations:
      - REQ-FILE_MANAGER_PAGE
  related_requirements:
    depends_on:
      - REQ-APP_STRUCTURE
      - REQ-CONFIG_DRIVEN_UI
    related_to:
      - REQ-MULTI_PANE_LAYOUT
      - REQ-DIRECTORY_NAVIGATION
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Implementation complete with 108 passing tests"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-MULTI_PANE_LAYOUT:
  name: Multiple Pane Layout Algorithms
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Different layout types optimize screen space for various file management tasks"
    problems_solved:
      - "Fixed single-pane view limiting comparison"
      - "Inefficient screen space usage"
      - "Lack of flexible viewing options"
    benefits:
      - "Flexible screen space utilization"
      - "Optimized layouts for different tasks"
      - "Improved file comparison workflows"
  satisfaction_criteria:
    - criterion: "Support Tile layout (first pane left half, others stacked right)"
    - criterion: "Support OneRow layout (all panes horizontal)"
    - criterion: "Support OneColumn layout (all panes vertical)"
    - criterion: "Support 2-4 panes in any layout"
    - criterion: "Layout can be changed dynamically"
  validation_criteria:
    - method: "Visual testing"
      coverage: "Each layout type renders correctly with 2, 3, 4 panes"
    - method: "Geometric testing"
      coverage: "Pane bounds calculated correctly, no overlaps (62 tests)"
  traceability:
    architecture:
      - ARCH-LAYOUT_ALGORITHMS
    implementation:
      - IMPL-LAYOUT_CALCULATOR
      - IMPL-WORKSPACE_VIEW
    tests:
      - Layout algorithm tests
    code_annotations:
      - REQ-MULTI_PANE_LAYOUT
  related_requirements:
    depends_on:
      - REQ-FILE_MANAGER_PAGE
    related_to:
      - REQ-FILE_LISTING
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Implementation complete, 62 layout tests passing"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-DIRECTORY_NAVIGATION:
  name: Server Filesystem Directory Navigation
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need to browse the server filesystem to locate and manage files"
    problems_solved:
      - "No visual directory navigation"
      - "Difficulty finding files in nested directories"
      - "Lack of parent/child directory traversal"
    benefits:
      - "Visual directory browsing"
      - "Easy parent/child navigation"
      - "Multiple directory views simultaneously"
  satisfaction_criteria:
    - criterion: "Can navigate into subdirectories (Enter key or click)"
    - criterion: "Can navigate to parent directory (Backspace key)"
    - criterion: "Current path displayed in pane header"
    - criterion: "Directory entries marked visually (folder icon or indicator)"
  validation_criteria:
    - method: "Navigation testing"
      coverage: "Can navigate into and out of directories"
    - method: "Path testing"
      coverage: "Current path updates correctly"
  traceability:
    architecture:
      - ARCH-FILESYSTEM_ABSTRACTION
    implementation:
      - IMPL-FILES_DATA
      - IMPL-FILE_PANE
      - IMPL-FILES_UTILS
    tests:
      - Directory navigation tests
    code_annotations:
      - REQ-DIRECTORY_NAVIGATION
  related_requirements:
    depends_on:
      - REQ-FILE_MANAGER_PAGE
    related_to:
      - REQ-FILE_LISTING
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Implementation complete, 34 data layer tests passing"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-PANE_REFRESH:
  name: Manual Pane Refresh
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need to manually refresh directory listings when external changes occur outside the file manager (e.g., files added/modified by other processes)"
    problems_solved:
      - "Directory listings become stale when external processes modify files"
      - "No way to reload pane contents without navigating away and back"
      - "Users must restart application to see external file system changes"
      - "Multiple panes cannot be refreshed simultaneously"
    benefits:
      - "Instant refresh of current pane file listing"
      - "Ability to refresh all panes at once for system-wide updates"
      - "Maintains cursor position and sort settings after refresh"
      - "Browser-familiar keyboard shortcuts (Ctrl+R, Ctrl+Shift+R)"
  satisfaction_criteria:
    - criterion: "Ctrl+R refreshes the currently focused pane"
    - criterion: "Ctrl+Shift+R refreshes all visible panes"
    - criterion: "Cursor position preserved after refresh"
    - criterion: "Sort settings maintained after refresh"
    - criterion: "Marks cleared after refresh (existing behavior)"
    - criterion: "Shortcuts visible in help overlay (? key)"
  validation_criteria:
    - method: "Keystroke testing"
      coverage: "Both refresh shortcuts trigger correctly"
    - method: "State preservation testing"
      coverage: "Cursor and sort settings maintained"
    - method: "Integration testing"
      coverage: "Refresh works with all layout types and pane counts"
  traceability:
    architecture:
      - ARCH-PANE_REFRESH
    implementation:
      - IMPL-PANE_REFRESH
    tests:
      - Manual testing with external file changes
    code_annotations:
      - REQ-PANE_REFRESH
  related_requirements:
    depends_on:
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
      - REQ-MULTI_PANE_LAYOUT
      - REQ-DIRECTORY_NAVIGATION
    related_to:
      - REQ-FILE_OPERATIONS
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-08
      author: "AI Agent"
      reason: "Initial implementation with Ctrl+R and Ctrl+Shift+R shortcuts"
    last_validated:
      date: 2026-02-08
      validator: "AI Agent"
      result: "pass - build succeeds with 36 keybindings loaded"

REQ-FILE_LISTING:
  name: File Listing Display
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Users need to see file details to identify and select files for operations"
    problems_solved:
      - "No file metadata visibility"
      - "Difficulty identifying file types"
      - "Lack of sorting options"
    benefits:
      - "Complete file metadata display"
      - "Multiple sorting options"
      - "Visual file type indicators"
  satisfaction_criteria:
    - criterion: "Display file name, size, modification time"
    - criterion: "Distinguish directories from regular files"
    - criterion: "Support sorting by name, size, mtime, extension (ascending/descending)"
    - criterion: "Cursor highlights current file"
    - criterion: "Marked files visually distinguished"
  validation_criteria:
    - method: "Display testing"
      coverage: "All file metadata renders correctly"
    - method: "Sorting testing"
      coverage: "All sort types work correctly"
  traceability:
    architecture:
      - ARCH-FILE_MANAGER_HIERARCHY
    implementation:
      - IMPL-FILE_PANE
      - IMPL-FILES_DATA
    tests:
      - File listing tests
    code_annotations:
      - REQ-FILE_LISTING
  related_requirements:
    depends_on:
      - REQ-DIRECTORY_NAVIGATION
    related_to:
      - REQ-KEYBOARD_NAVIGATION
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_OPERATIONS:
  name: File Copy, Move, Rename, Delete Operations
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need to perform common file management operations"
    problems_solved:
      - "No file manipulation interface"
      - "Difficulty moving/copying files between directories"
      - "Manual command-line operations required"
    benefits:
      - "Visual file operations"
      - "Cross-pane copy/move support"
      - "Batch operations on marked files"
  satisfaction_criteria:
    - criterion: "Can copy files (keyboard shortcut or button)"
    - criterion: "Can move files (keyboard shortcut or button)"
    - criterion: "Can rename files (keyboard shortcut or inline edit)"
    - criterion: "Can delete files (keyboard shortcut with confirmation)"
    - criterion: "Operations work on single and marked files"
    - criterion: "Error handling for failed operations"
  validation_criteria:
    - method: "Operation testing"
      coverage: "All CRUD operations work correctly"
    - method: "Error testing"
      coverage: "Errors handled gracefully (permissions, non-existent files)"
  traceability:
    architecture:
      - ARCH-FILE_OPERATIONS_API
      - ARCH-FILESYSTEM_ABSTRACTION
    implementation:
      - IMPL-FILES_API
      - IMPL-FILES_DATA
    tests:
      - File operations tests
    code_annotations:
      - REQ-FILE_OPERATIONS
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
      - REQ-KEYBOARD_NAVIGATION
    related_to:
      - REQ-CROSS_PANE_COMPARISON
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-CROSS_PANE_COMPARISON:
  name: Cross-Pane File Comparison
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need to identify file differences across directories for sync and comparison tasks"
    problems_solved:
      - "Difficulty identifying file differences"
      - "Manual comparison required"
      - "No visual diff indicators"
    benefits:
      - "Automatic file comparison"
      - "Visual diff indicators (color coding)"
      - "Identify same/different files quickly"
  satisfaction_criteria:
    - criterion: "Files with same name across panes color-coded"
    - criterion: "Different sizes/times indicated with distinct colors"
    - criterion: "Files unique to one pane clearly marked"
    - criterion: "Comparison updates when panes change"
  validation_criteria:
    - method: "Comparison testing"
      coverage: "Comparison colors display correctly"
    - method: "Index testing"
      coverage: "Comparison index builds and updates correctly"
  traceability:
    architecture:
      - ARCH-COMPARISON_INDEX
    implementation:
      - IMPL-COMPARISON_INDEX
      - IMPL-FILE_PANE
    tests:
      - Comparison index tests
    code_annotations:
      - REQ-CROSS_PANE_COMPARISON
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
      - REQ-MULTI_PANE_LAYOUT
    related_to:
      - REQ-FILE_OPERATIONS
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-KEYBOARD_NAVIGATION:
  name: Keyboard-Driven Navigation
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Terminal-like keyboard navigation provides efficient file management workflow"
    problems_solved:
      - "Mouse-dependent navigation inefficient"
      - "Lack of keyboard shortcuts"
      - "Inconsistent navigation metaphors"
    benefits:
      - "Fast keyboard-driven workflow"
      - "Terminal-like user experience"
      - "Reduced reliance on mouse"
  satisfaction_criteria:
    - criterion: "Arrow keys move cursor within pane"
    - criterion: "Tab key moves focus between panes"
    - criterion: "Enter navigates into directory"
    - criterion: "Backspace navigates to parent"
    - criterion: "Marking shortcuts (m to toggle, space to select)"
    - criterion: "Operation shortcuts (c copy, v paste, d delete, r rename)"
  validation_criteria:
    - method: "Keyboard testing"
      coverage: "All keyboard shortcuts work correctly"
    - method: "Focus testing"
      coverage: "Focus indicator visible and updates correctly"
  traceability:
    architecture:
      - ARCH-FILE_MANAGER_HIERARCHY
    implementation:
      - IMPL-WORKSPACE_VIEW
      - IMPL-FILE_PANE
    tests:
      - Keyboard navigation tests
    code_annotations:
      - REQ-KEYBOARD_NAVIGATION
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
      - REQ-MULTI_PANE_LAYOUT
    related_to:
      - REQ-FILE_OPERATIONS
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-CONFIG_DRIVEN_FILE_MANAGER:
  name: Configuration-Driven File Manager UI
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Consistent with project architecture, all UI text and styling should be configurable"
    problems_solved:
      - "Hard-coded UI text"
      - "Difficult customization"
      - "Inconsistent with existing config pattern"
    benefits:
      - "All UI text from config"
      - "Easy customization"
      - "Consistent with project architecture"
  satisfaction_criteria:
    - criterion: "All user-facing text comes from config/files.yaml"
    - criterion: "All styling overrides in config/theme.yaml"
    - criterion: "Changing config changes UI without code changes"
  validation_criteria:
    - method: "Config testing"
      coverage: "Config changes reflected in UI"
    - method: "Code inspection"
      coverage: "No hard-coded user-facing text in components"
  traceability:
    architecture:
      - ARCH-CONFIG_DRIVEN_UI
    implementation:
      - IMPL-FILES_CONFIG
      - IMPL-FILE_MANAGER_PAGE
    tests:
      - Config-driven UI tests
    code_annotations:
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
  related_requirements:
    depends_on:
      - REQ-CONFIG_DRIVEN_UI
      - REQ-FILE_MANAGER_PAGE
    related_to: []
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-LOGGING_SYSTEM:
  name: Session-Based Logging System
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Provide comprehensive debugging and traceability through structured logging"
    problems_solved:
      - "No persistent logs for debugging production issues"
      - "Console logs are ephemeral and lost after session ends"
      - "Difficult to trace execution flow across modules"
      - "No semantic token traceability in logs"
    benefits:
      - "Persistent debugging information"
      - "Semantic token traceability in logs"
      - "Configurable log levels for development vs production"
      - "Session-based log files for temporal analysis"
  satisfaction_criteria:
    - criterion: "Log files created per session with timestamp in filename"
    - criterion: "Six log levels supported: FATAL, ERROR, WARN, INFO, DEBUG, TRACE"
    - criterion: "All log entries include semantic tokens when applicable"
    - criterion: "Logs written to OS temporary directory"
    - criterion: "Logging enabled by default with launch-time configuration"
  validation_criteria:
    - method: "Unit tests"
      coverage: "All log levels, file creation, formatting"
    - method: "Integration tests"
      coverage: "Logging across multiple modules"
    - method: "Manual testing"
      coverage: "Log file creation and semantic token inclusion"
  traceability:
    architecture:
      - ARCH-LOGGING_SYSTEM
    implementation:
      - IMPL-LOGGER_MODULE
    tests:
      - Logger unit tests
    code_annotations:
      - REQ-LOGGING_SYSTEM
  related_requirements:
    depends_on: []
    related_to:
      - REQ-MODULE_VALIDATION
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-LOGGING_CONFIG:
  name: Configurable Logging Behavior
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Enable runtime control of logging behavior without code changes"
    problems_solved:
      - "Hard-coded logging behavior"
      - "Cannot disable logging in production"
      - "Cannot change log levels without recompiling"
    benefits:
      - "Environment-based configuration"
      - "Dynamic log level control"
      - "Easy production/development mode switching"
  satisfaction_criteria:
    - criterion: "Logging enabled/disabled via environment variable"
    - criterion: "Log level configurable via environment variable"
    - criterion: "Log directory configurable via environment variable"
    - criterion: "Logging enabled by default (true by default)"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Configuration parsing and defaults"
    - method: "Integration tests"
      coverage: "Environment variable overrides"
  traceability:
    architecture:
      - ARCH-LOGGING_CONFIG
    implementation:
      - IMPL-LOGGER_CONFIG
    tests:
      - Logger config tests
    code_annotations:
      - REQ-LOGGING_CONFIG
  related_requirements:
    depends_on:
      - REQ-LOGGING_SYSTEM
    related_to:
      - REQ-CONFIG_DRIVEN_UI
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-LOGGING_SEMANTIC_TOKENS:
  name: Semantic Token Integration in Logs
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Ensure all logs are traceable to requirements, architecture, and implementation"
    problems_solved:
      - "Cannot trace log entries to feature requirements"
      - "Difficult to understand which module logged a message"
      - "No connection between logs and STDD documentation"
    benefits:
      - "Complete traceability from logs to requirements"
      - "Easy identification of logging module"
      - "Searchable semantic tokens in log files"
  satisfaction_criteria:
    - criterion: "All log entries must include at least one semantic token"
    - criterion: "Semantic tokens formatted as [REQ-*], [ARCH-*], [IMPL-*]"
    - criterion: "Multiple tokens can be included per log entry"
    - criterion: "Logger API enforces token parameter"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Token formatting and inclusion"
    - method: "Code review"
      coverage: "All logger calls include tokens"
    - method: "Log file inspection"
      coverage: "Tokens present in actual log output"
  traceability:
    architecture:
      - ARCH-LOGGING_SEMANTIC_TOKENS
    implementation:
      - IMPL-LOGGER_TOKENS
    tests:
      - Semantic token logging tests
    code_annotations:
      - REQ-LOGGING_SEMANTIC_TOKENS
  related_requirements:
    depends_on:
      - REQ-LOGGING_SYSTEM
      - REQ-STDD_SETUP
    related_to: []
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_MARKING_WEB:
  name: Web-Based File Marking for Batch Operations
  category: Functional
  priority: P0
  status: "Active"
  rationale:
    why: "Batch operations on multiple files require a selection mechanism optimized for web interfaces"
    problems_solved:
      - "Tedious individual file operations in web UI"
      - "Loss of selection after view refresh or sorting"
      - "Complex multi-file selection patterns with mouse/keyboard"
    benefits:
      - "Efficient batch operations on arbitrary file sets"
      - "Persistent client-side selection across sorting/filtering"
      - "Clear visual feedback via checkboxes and highlighting"
      - "Keyboard-driven marking workflow (Space, Shift+M, Escape)"
  satisfaction_criteria:
    - criterion: "Users can mark individual files by toggling with Space key or checkbox click"
    - criterion: "Users can mark all files (Shift+M) and invert marks (Ctrl+M)"
    - criterion: "Users can clear all marks with Escape key"
    - criterion: "Marked files visually distinguished with checkbox icon and background color"
    - criterion: "Mark state persists when directory is re-sorted or refreshed"
    - criterion: "Mark persistence is name-based (survives file order changes)"
    - criterion: "Parent directory entry (..) cannot be marked"
    - criterion: "Pane footer displays marked count: [marked/total]"
    - criterion: "Batch operations (copy, move, delete) operate on marked files when marks exist"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Mark toggle, mark all, invert, clear operations"
    - method: "Unit tests"
      coverage: "Mark persistence across sort/filter/refresh"
    - method: "Integration tests"
      coverage: "Batch operations use marked files correctly"
    - method: "UI tests"
      coverage: "Visual distinction of marked files"
  traceability:
    architecture:
      - ARCH-MARKING_STATE
    implementation:
      - IMPL-FILE_MARKING
    tests:
      - testFileMarking_REQ_FILE_MARKING_WEB
    code_annotations:
      - REQ-FILE_MARKING_WEB
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
      - REQ-KEYBOARD_NAVIGATION
    related_to:
      - REQ-BULK_FILE_OPS
    supersedes: []
  detail_file: requirements/REQ-FILE_MARKING_WEB.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - imported from Goful REQ-FILE_MARKING, adapted for web"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-BULK_FILE_OPS:
  name: Bulk File Operations on Marked Files
  category: Functional
  priority: P0
  status: "Active"
  rationale:
    why: "Users need to perform copy, move, delete operations on multiple files efficiently"
    problems_solved:
      - "Tedious repetition of single-file operations"
      - "No progress visibility for batch operations"
      - "Manual error recovery for failed operations"
    benefits:
      - "Efficient multi-file operations via marking system"
      - "Real-time progress tracking with cancellation support"
      - "Automatic error handling and reporting"
      - "Cross-pane operations (source pane to destination pane)"
  satisfaction_criteria:
    - criterion: "Copy marked files to target pane directory (C key)"
    - criterion: "Move marked files to target pane directory (M key)"
    - criterion: "Delete marked files with confirmation dialog (D key)"
    - criterion: "Rename single file or bulk rename with pattern (R key)"
    - criterion: "Operations work on marked files if marks exist, otherwise on cursor file"
    - criterion: "Progress bar shows completion percentage, file count, current file"
    - criterion: "Operations are asynchronous (non-blocking UI)"
    - criterion: "Error handling with user-friendly messages"
    - criterion: "Confirmation dialogs before destructive operations"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Bulk copy, move, delete on marked files"
    - method: "Integration tests"
      coverage: "Cross-pane operations and progress tracking"
    - method: "Error tests"
      coverage: "Permission errors, disk full, non-existent files"
  traceability:
    architecture:
      - ARCH-BATCH_OPERATIONS
    implementation:
      - IMPL-BULK_OPS
    tests:
      - testBulkOps_REQ_BULK_FILE_OPS
    code_annotations:
      - REQ-BULK_FILE_OPS
  related_requirements:
    depends_on:
      - REQ-FILE_MARKING_WEB
      - REQ-FILE_OPERATIONS
    related_to:
      - REQ-CROSS_PANE_COMPARISON
    supersedes: []
  detail_file: requirements/REQ-BULK_FILE_OPS.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - adapted from Goful REQ-FILE_OPERATIONS for web batch context"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-LINKED_PANES:
  name: Linked Pane Navigation
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Users comparing similar directory structures need synchronized navigation across panes"
    problems_solved:
      - "Tedious manual navigation in each pane when comparing mirrored directories"
      - "Lost visual context when viewing same files across panes"
      - "Manual sort synchronization across comparison panes"
    benefits:
      - "Automatic navigation propagation to matching subdirectories"
      - "Cursor synchronization shows same filename highlighted in all panes"
      - "Sort synchronization keeps all panes in same order"
      - "Auto-disable on divergence prevents confusion"
  satisfaction_criteria:
    - criterion: "L key toggles linked navigation mode ON/OFF"
    - criterion: "Visual indicator ( badge) shows when linked mode is ON"
    - criterion: "Subdirectory navigation propagates to all panes with matching subdirectory"
    - criterion: "Parent directory navigation (Backspace) navigates all panes to respective parents"
    - criterion: "Cursor movements sync to same filename in all panes when linked"
    - criterion: "Sort changes apply to all panes when linked"
    - criterion: "Auto-disable with warning message when navigation diverges"
    - criterion: "Linked state per-session (does not persist across refreshes)"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Cursor sync with/without linked mode, sort sync, auto-disable"
    - method: "Integration tests"
      coverage: "Multi-pane subdirectory/parent navigation, divergence detection"
    - method: "Manual tests"
      coverage: "Visual feedback, edge cases with asymmetric directory structures"
  traceability:
    architecture:
      - ARCH-LINKED_NAV
    implementation:
      - IMPL-LINKED_NAV
    tests:
      - TEST-LINKED_PANES
    code_annotations:
      - REQ-LINKED_PANES
  related_requirements:
    depends_on:
      - REQ-MULTI_PANE_LAYOUT
      - REQ-DIRECTORY_NAVIGATION
    related_to:
      - REQ-FILE_COMPARISON_VISUAL
      - REQ-ADVANCED_NAV
    supersedes: []
  detail_file: requirements/REQ-LINKED_PANES.md
  metadata:
    created:
      date: 2026-02-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-08
      author: "AI Agent"
      reason: "Complete linked navigation implementation with cursor sync, parent nav, auto-disable, sort sync"
    last_validated:
      date: 2026-02-08
      validator: "AI Agent"
      result: "pass"
REQ-ADVANCED_NAV:
  name: Advanced Navigation Features
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need efficient navigation beyond basic directory traversal"
    problems_solved:
      - "Repetitive navigation to frequently accessed directories"
      - "Lost context when navigating away and returning"
      - "No quick way to jump to specific paths"
    benefits:
      - "Per-directory cursor position history"
      - "Parent navigation positions cursor on previous directory"
      - "Bookmark system for frequently accessed locations"
      - "Goto dialog for direct path entry"
      - "Recent directories list (LRU cache)"
  satisfaction_criteria:
    - criterion: "Cursor position persists per-directory (filename-based restoration)"
    - criterion: "Parent navigation (Backspace) positions cursor on previous subdirectory"
    - criterion: "Goto dialog (G key) for direct path entry with autocomplete"
    - criterion: "Recent directories accessible via Alt+Left/Right"
    - criterion: "Bookmark add (B key) and bookmark list (Ctrl+B)"
    - criterion: "Bookmarks stored in localStorage for persistence"
    - criterion: "Home shortcut (~ key) navigates to home directory"
  validation_criteria:
    - method: "Unit tests"
      coverage: "History save/restore, bookmark CRUD operations"
    - method: "Integration tests"
      coverage: "Parent navigation cursor positioning"
    - method: "localStorage tests"
      coverage: "Bookmark persistence across sessions"
  traceability:
    architecture:
      - ARCH-DIRECTORY_HISTORY
    implementation:
      - IMPL-DIR_HISTORY
    tests:
      - testAdvancedNav_REQ_ADVANCED_NAV
    code_annotations:
      - REQ-ADVANCED_NAV
  related_requirements:
    depends_on:
      - REQ-DIRECTORY_NAVIGATION
    related_to:
      - REQ-FILE_LISTING
    supersedes: []
  detail_file: requirements/REQ-ADVANCED_NAV.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - adapted from Goful ARCH-DIRECTORY_HISTORY for web"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_COMPARISON_VISUAL:
  name: Visual Cross-Pane File Comparison
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need to identify file differences across directories for sync and backup tasks"
    problems_solved:
      - "Manual comparison of files across directories is tedious"
      - "No visual indication of same/different files"
      - "Difficult to identify newest or largest versions"
    benefits:
      - "Automatic color-coded file comparison"
      - "Instant identification of same/different files"
      - "Size and time comparisons visible at a glance"
      - "Toggle on/off for focused work"
  satisfaction_criteria:
    - criterion: "Files with same name across panes are color-coded"
    - criterion: "Size comparison: equal (green), smallest (blue), largest (red)"
    - criterion: "Time comparison: equal (green), earliest (blue), latest (red)"
    - criterion: "Toggle comparison mode with backtick key"
    - criterion: "Comparison colors configurable in theme.yaml"
    - criterion: "Comparison index rebuilds on pane content changes"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Comparison index building with various file sets"
    - method: "Integration tests"
      coverage: "Color application and toggle behavior"
    - method: "Visual tests"
      coverage: "Color coding displays correctly"
  traceability:
    architecture:
      - ARCH-COMPARISON_COLORING
    implementation:
      - IMPL-COMPARISON_COLORS
    tests:
      - testFileComparison_REQ_FILE_COMPARISON_VISUAL
    code_annotations:
      - REQ-FILE_COMPARISON_VISUAL
  related_requirements:
    depends_on:
      - REQ-CROSS_PANE_COMPARISON
      - REQ-MULTI_PANE_LAYOUT
    related_to:
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
    supersedes: []
  detail_file: requirements/REQ-FILE_COMPARISON_VISUAL.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - adapted from Goful REQ-FILE_COMPARISON_COLORS for web"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_SORTING_ADVANCED:
  name: Advanced Multi-Criteria File Sorting
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Different file management tasks require different sort orders for efficiency"
    problems_solved:
      - "Limited to simple name sorting"
      - "Cannot prioritize directories"
      - "No ascending/descending toggle"
    benefits:
      - "Sort by name, size, time, extension"
      - "Ascending and descending order for each criterion"
      - "Optional directory-first sorting"
      - "Cursor position preservation across sorts"
  satisfaction_criteria:
    - criterion: "Sort by name (alphabetical)"
    - criterion: "Sort by size (bytes)"
    - criterion: "Sort by modification time (chronological)"
    - criterion: "Sort by extension (alphabetical)"
    - criterion: "Each criterion supports ascending/descending"
    - criterion: "Optional directories-first toggle"
    - criterion: "Sort menu accessible via S key"
    - criterion: "Current sort displayed in pane footer"
    - criterion: "Cursor remains on same file after sorting"
  validation_criteria:
    - method: "Unit tests"
      coverage: "All sort criteria and directions"
    - method: "Unit tests"
      coverage: "Directory prioritization behavior"
    - method: "Integration tests"
      coverage: "Cursor preservation after sort"
  traceability:
    architecture:
      - ARCH-SORT_PIPELINE
    implementation:
      - IMPL-SORT_FILTER
    tests:
      - testSorting_REQ_FILE_SORTING_ADVANCED
    code_annotations:
      - REQ-FILE_SORTING_ADVANCED
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
    related_to:
      - REQ-FILE_MARKING_WEB
    supersedes: []
  detail_file: requirements/REQ-FILE_SORTING_ADVANCED.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - adapted from Goful REQ-FILE_SORTING for web"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_SEARCH:
  name: File Search and Filtering
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Users need to locate files by name pattern or content in large directories"
    problems_solved:
      - "Scrolling through large directories is inefficient"
      - "No quick way to find files by pattern"
      - "Cannot search file contents"
    benefits:
      - "Incremental filename filtering (real-time)"
      - "Content search across files"
      - "Regex pattern support"
      - "Search history for repeated searches"
  satisfaction_criteria:
    - criterion: "Incremental finder dialog (Ctrl+F) with real-time filtering"
    - criterion: "Regex pattern matching with auto case-insensitive"
    - criterion: "Content search dialog (Ctrl+Shift+F) for searching within files"
    - criterion: "Search results show filename, line number, context"
    - criterion: "Search history (last 20 patterns) with up/down navigation"
    - criterion: "Invalid regex displays error without crashing"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Pattern matching (fuzzy, regex) - 30 tests passing"
    - method: "Integration tests"
      coverage: "Search API and result display - 27 API tests, 38 FinderDialog tests, 29 SearchDialog tests"
    - method: "Performance tests"
      coverage: "Large directory and file search performance validated"
  traceability:
    architecture:
      - ARCH-SEARCH_ENGINE
    implementation:
      - IMPL-FILE_SEARCH
    tests:
      - src/lib/files.search.test.ts (30 tests)
      - src/app/api/files/search/route.test.ts (27 tests)
      - src/app/files/components/FinderDialog.test.tsx (38 tests)
      - src/app/files/components/SearchDialog.test.tsx (29 tests)
    code_annotations:
      - REQ-FILE_SEARCH
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
    related_to:
      - REQ-ADVANCED_NAV
    supersedes: []
  detail_file: requirements/REQ-FILE_SEARCH.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Phase 8 completed - all search components, API, and tests complete (124 total tests passing)"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass - 523 total tests passing, production build successful"
REQ-LINKED_PANES:
  name: Linked Pane Navigation
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Users need synchronized navigation across panes for comparison tasks"
    problems_solved:
      - "Manual navigation of multiple panes to same subdirectory"
      - "Difficulty keeping panes synchronized"
      - "No visual indicator of linked state"
    benefits:
      - "Automatic synchronized directory changes"
      - "Toggle linked mode on/off (L key)"
      - "Visual indicator in pane headers"
      - "Configurable link groups (future enhancement)"
  satisfaction_criteria:
    - criterion: "Toggle linked mode with L key"
    - criterion: "Linked panes navigate to same subdirectory together"
    - criterion: "Visual indicator shows linked state in pane headers"
    - criterion: "Link groups configurable (future enhancement)"
    - criterion: "Linked mode persists across directory changes"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Link state management and sync logic"
    - method: "Integration tests"
      coverage: "Synchronized navigation across panes"
  traceability:
    architecture:
      - ARCH-LINKED_NAV
    implementation:
      - IMPL-LINKED_NAV
    tests:
      - testLinkedPanes_REQ_LINKED_PANES
      - testLinkedToggle_IMPL_LINKED_NAV
      - testLinkedNavigationDown_IMPL_LINKED_NAV
      - testLinkedNavigationUp_IMPL_LINKED_NAV
      - testLinkedAsymmetric_IMPL_LINKED_NAV
    code_annotations:
      - REQ-LINKED_PANES
  related_requirements:
    depends_on:
      - REQ-MULTI_PANE_LAYOUT
      - REQ-DIRECTORY_NAVIGATION
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
    related_to:
      - REQ-FILE_COMPARISON_VISUAL
    supersedes: []
  detail_file: requirements/REQ-LINKED_PANES.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - adapted from Goful REQ-LINKED_NAVIGATION for web"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILE_PREVIEW:
  name: File Preview Panel
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Users need to view file contents without opening external applications"
    problems_solved:
      - "Must open files in editors to view contents"
      - "No quick preview for images or text files"
      - "Cannot inspect archive contents without extracting"
    benefits:
      - "Instant file preview in dedicated panel"
      - "Text, image, and archive support"
      - "File metadata display"
      - "No external application launching"
  satisfaction_criteria:
    - criterion: "Info panel shows detailed file metadata (I key)"
    - criterion: "Text file preview (Q key) with syntax highlighting"
    - criterion: "Image thumbnail preview with dimensions"
    - criterion: "Archive contents listing (zip, tar, tar.gz)"
    - criterion: "File type detection via extension and magic bytes"
    - criterion: "Preview pane resizable (split-pane view)"
  validation_criteria:
    - method: "Unit tests"
      coverage: "File type detection and content loading"
    - method: "Integration tests"
      coverage: "Preview API and rendering"
    - method: "Security tests"
      coverage: "Malicious file handling"
  traceability:
    architecture:
      - ARCH-PREVIEW_SYSTEM
    implementation:
      - IMPL-FILE_PREVIEW
    tests:
      - testFilePreview_REQ_FILE_PREVIEW
    code_annotations:
      - REQ-FILE_PREVIEW
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
    related_to:
      - REQ-FILE_OPERATIONS
    supersedes: []
  detail_file: requirements/REQ-FILE_PREVIEW.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - new requirement for web file manager"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-KEYBOARD_SHORTCUTS_COMPLETE:
  name: Comprehensive Keyboard Shortcut System
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Power users need efficient keyboard-driven workflows"
    problems_solved:
      - "Mouse-dependent navigation is slow"
      - "Incomplete keyboard shortcut coverage"
      - "No discoverability of available shortcuts"
    benefits:
      - "Complete keyboard navigation"
      - "Configurable keybindings"
      - "Help overlay showing all shortcuts"
      - "Command palette for action discovery"
  satisfaction_criteria:
    - criterion: "Help overlay (? key) displays all shortcuts"
    - criterion: "Shortcuts organized by category"
    - criterion: "All file operations accessible via keyboard"
    - criterion: "Keybindings configurable in files.yaml"
    - criterion: "Command palette (Ctrl+P) for fuzzy action search"
    - criterion: "Modal dialogs have keyboard navigation"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Keybinding parsing and matching"
    - method: "Integration tests"
      coverage: "Action execution via keyboard"
    - method: "UI tests"
      coverage: "Help overlay display"
  traceability:
    architecture:
      - ARCH-KEYBIND_SYSTEM
    implementation:
      - IMPL-KEYBINDS
    tests:
      - testKeybindingParser_REQ_KEYBOARD_SHORTCUTS_COMPLETE
      - testKeybindingMatcher_REQ_KEYBOARD_SHORTCUTS_COMPLETE
      - testFormatKeyCombo_REQ_KEYBOARD_SHORTCUTS_COMPLETE
    code_annotations:
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
  related_requirements:
    depends_on:
      - REQ-KEYBOARD_NAVIGATION
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
    related_to:
      - REQ-FILE_OPERATIONS
      - REQ-FILE_MARKING_WEB
    supersedes: []
  detail_file: requirements/REQ-KEYBOARD_SHORTCUTS_COMPLETE.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Phase 7 completed - all features implemented and tested"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass - 425 tests passing"
REQ-MOUSE_INTERACTION:
  name: Mouse and Touch Interaction
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Web users expect mouse and touch interaction support"
    problems_solved:
      - "Keyboard-only interface not accessible to all users"
      - "No context menu for common operations"
      - "Cannot drag-drop files between panes"
    benefits:
      - "Right-click context menu"
      - "Drag-and-drop file operations"
      - "Click to select and navigate"
      - "Touch-friendly on tablets"
  satisfaction_criteria:
    - criterion: "Right-click shows context menu with operations"
    - criterion: "Left-click selects file and moves cursor"
    - criterion: "Double-click opens/enters file/directory"
    - criterion: "Drag-and-drop moves/copies files between panes"
    - criterion: "Scroll wheel navigates file list"
    - criterion: "Touch gestures work on tablets"
  validation_criteria:
    - method: "Integration tests"
      coverage: "Mouse event handling"
    - method: "UI tests"
      coverage: "Context menu display and actions"
    - method: "Touch tests"
      coverage: "Touch gesture handling"
  traceability:
    architecture:
      - ARCH-MOUSE_SUPPORT
    implementation:
      - IMPL-MOUSE_SUPPORT
    tests:
      - testMouseInteraction_REQ_MOUSE_INTERACTION
    code_annotations:
      - REQ-MOUSE_INTERACTION
  related_requirements:
    depends_on:
      - REQ-FILE_OPERATIONS
    related_to:
      - REQ-KEYBOARD_NAVIGATION
    supersedes: []
  detail_file: requirements/REQ-MOUSE_INTERACTION.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Phase 10 implementation complete"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass - 554 tests passing, production build successful"
REQ-FILES_CONFIG_COMPLETE:
  name: Complete File Manager Configuration
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "All UI elements must be configurable without code changes"
    problems_solved:
      - "Hard-coded UI text and styling"
      - "Incomplete template customization"
      - "Code changes required for appearance"
    benefits:
      - "Complete configurability via YAML"
      - "Keybindings customizable"
      - "Theme colors customizable"
      - "All text content from config"
  satisfaction_criteria:
    - criterion: "All user-facing text in files.yaml"
    - criterion: "All keybindings in files.yaml keybindings section"
    - criterion: "All colors in theme.yaml file manager section"
    - criterion: "File type icons/colors configurable"
    - criterion: "Layout preferences in config"
    - criterion: "Startup directories in config"
  validation_criteria:
    - method: "Config tests"
      coverage: "Changing config changes UI without code changes"
    - method: "Code inspection"
      coverage: "No hard-coded user-facing text in components"
  traceability:
    architecture:
      - ARCH-CONFIG_DRIVEN_UI
    implementation:
      - IMPL-FILES_CONFIG_COMPLETE
    tests:
      - testFilesConfig_REQ-FILES_CONFIG_COMPLETE
    code_annotations:
      - REQ-FILES_CONFIG_COMPLETE
  related_requirements:
    depends_on:
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
    related_to:
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
    supersedes: []
  detail_file: requirements/REQ-FILES_CONFIG_COMPLETE.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - expansion of REQ-CONFIG_DRIVEN_FILE_MANAGER"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-FILES_PERFORMANCE:
  name: File Manager Performance Optimization
  category: Non-Functional
  priority: P1
  status: "Planned"
  rationale:
    why: "Large directories must remain responsive and efficient"
    problems_solved:
      - "Slow rendering with 1000+ files"
      - "Excessive memory usage"
      - "Laggy scrolling"
    benefits:
      - "Virtual scrolling for large lists"
      - "Lazy loading of file metadata"
      - "Debounced comparison updates"
      - "Optimized sort algorithms"
  satisfaction_criteria:
    - criterion: "Render 1000 files in < 1 second"
    - criterion: "Smooth scrolling with 5000+ files via virtual scrolling"
    - criterion: "Lazy load metadata (only visible files stat'd)"
    - criterion: "Debounced comparison index updates (300ms)"
    - criterion: "Memory usage scales sub-linearly with file count"
  validation_criteria:
    - method: "Performance tests"
      coverage: "1000+ file directory rendering"
    - method: "Performance tests"
      coverage: "Scrolling performance with virtual scrolling"
    - method: "Memory tests"
      coverage: "Memory usage profiling"
  traceability:
    architecture:
      - ARCH-PERFORMANCE_OPT
    implementation:
      - IMPL-PERFORMANCE_OPT
    tests:
      - testPerformance_REQ_FILES_PERFORMANCE
    code_annotations:
      - REQ-FILES_PERFORMANCE
  related_requirements:
    depends_on:
      - REQ-FILE_LISTING
    related_to:
      - REQ-FILE_COMPARISON_VISUAL
    supersedes: []
  detail_file: requirements/REQ-FILES_PERFORMANCE.md
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Initial creation - web-specific performance requirement"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
REQ-REACT_SSR_STABILITY:
  name: React SSR Stability and Correctness
  category: Non-Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Next.js server-side rendering requires stable components with unique keys and SSR-safe code"
    problems_solved:
      - "React duplicate key warnings breaking component rendering"
      - "localStorage access causing SSR errors"
      - "Module initialization timing issues"
    benefits:
      - "Stable component rendering without warnings"
      - "Clean SSR without browser API errors"
      - "Predictable module initialization"
  satisfaction_criteria:
    - criterion: "No React console warnings about duplicate keys"
    - criterion: "No SSR errors from browser API access"
    - criterion: "Keybinding registry initialized before first component render"
    - criterion: "LocalStorage accessed only in browser context"
  validation_criteria:
    - method: "Console inspection"
      coverage: "No React warnings or errors during page load"
    - method: "Production build"
      coverage: "Build succeeds without errors"
  traceability:
    architecture:
      - ARCH-REACT_VERSION
      - ARCH-SERVER_COMPONENTS
    implementation:
      - IMPL-WORKSPACE_VIEW
      - IMPL-FILE_SEARCH
      - IMPL-KEYBINDS
    tests:
      - SSR stability verification
    code_annotations:
      - REQ-REACT_SSR_STABILITY
  related_requirements:
    depends_on:
      - REQ-APP_STRUCTURE
    related_to:
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
      - REQ-FILE_SEARCH
    supersedes: []
  detail_file: ""
  metadata:
    created:
      date: 2026-02-07
      author: "AI Agent"
    last_updated:
      date: 2026-02-07
      author: "AI Agent"
      reason: "Documented fixes for duplicate keys, SSR localStorage errors, and keybinding timing"
    last_validated:
      date: 2026-02-07
      validator: "AI Agent"
      result: "pass"
# ---
# Template Record - Copy this block to create new requirements
# ---
#
# REQ-IDENTIFIER:
#   name: Requirement Name
#   category: Functional
#   priority: P1
#   status: "Planned"
#   rationale:
#     why: "Primary reason for this requirement"
#     problems_solved:
#       - "Problem 1"
#       - "Problem 2"
#     benefits:
#       - "Benefit 1"
#       - "Benefit 2"
#   satisfaction_criteria:
#     - criterion: "Criterion description 1"
#       metric: "Measurable target (optional)"
#     - criterion: "Criterion description 2"
#   validation_criteria:
#     - method: "Unit tests"
#       coverage: "All core functions"
#     - method: "Integration tests"
#       coverage: "End-to-end flows"
#     - method: "Manual testing"
#       coverage: "QA checklist"
#   traceability:
#     architecture:
#       - ARCH-IDENTIFIER
#     implementation:
#       - IMPL-IDENTIFIER
#     tests:
#       - testFeatureName_REQ_IDENTIFIER
#     code_annotations:
#       - REQ-IDENTIFIER
#   related_requirements:
#     depends_on: []
#     related_to: []
#     supersedes: []
#   detail_file: requirements/REQ-IDENTIFIER.md
#   metadata:
#     created:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#     last_updated:
#       date: YYYY-MM-DD
#       author: "agent/contributor"
#       reason: "Initial creation"
#     last_validated:
#       date: YYYY-MM-DD
#       validator: "agent/contributor"
#       result: "pass"

REQ-TOOLBAR_SYSTEM:
  name: File Manager Toolbar System
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "To improve discoverability and accessibility of file manager operations by providing a visual, mouse-accessible interface alongside keyboard shortcuts"
    problems_solved:
      - "Steep learning curve: new users must memorize 36+ keyboard shortcuts"
      - "Limited accessibility: keyboard-only interface excludes mouse users"
      - "Poor discoverability: no visual indication of available operations"
      - "Context confusion: users cannot see which operations are available"
    benefits:
      - "Improved onboarding: visual operation exploration"
      - "Accessibility compliance: mouse and keyboard support"
      - "Discoverability: buttons show names, icons, and shortcuts"
      - "Context awareness: active/disabled states reflect workspace"
      - "Configuration flexibility: customizable via YAML"
  satisfaction_criteria:
    - criterion: "All 36+ keybinding actions represented in configurable toolbars"
    - criterion: "Each button displays icon (when available) + keyboard shortcut in compact format; label text only shown as fallback when no icon exists"
    - criterion: "Toolbar visibility, position, and button selection configurable via config/files.yaml"
    - criterion: "Toolbar styling follows existing theme system in config/theme.yaml"
    - criterion: "Button states (active/disabled) reflect current workspace state"
    - criterion: "Toolbar button actions dispatch to same handlers as keyboard shortcuts"
    - criterion: "Toolbars adapt to mobile, tablet, and desktop viewports"
    - criterion: "Toolbar rendering does not impact file manager responsiveness"
    - criterion: "Buttons sized to prevent overflow even with 12+ actions per toolbar"
  validation_criteria:
    - method: "Component tests"
      coverage: "Button rendering, group layout, keystroke display"
    - method: "Integration tests"
      coverage: "Action dispatch, state updates, configuration changes"
    - method: "Accessibility tests"
      coverage: "ARIA labels, keyboard navigation, focus management"
    - method: "Manual testing"
      coverage: "Visual inspection, interaction testing, responsive testing"
  traceability:
    architecture:
      - ARCH-TOOLBAR_LAYOUT
      - ARCH-TOOLBAR_ACTIONS
    implementation:
      - IMPL-TOOLBAR_COMPONENT
      - IMPL-TOOLBAR_CONFIG
    tests:
      - src/app/files/components/Toolbar.test.tsx
      - src/app/files/components/WorkspaceToolbar.test.tsx
    code_annotations:
      - REQ-TOOLBAR_SYSTEM
  related_requirements:
    depends_on:
      - REQ-KEYBOARD_SHORTCUTS_COMPLETE
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
    related_to:
      - REQ-MOUSE_INTERACTION
      - REQ-TOOLBAR_CONFIG
    supersedes: []
  detail_file: requirements/REQ-TOOLBAR_SYSTEM.md
  metadata:
    created:
      date: 2026-02-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-08
      author: "AI Agent"
      reason: "Updated satisfaction criteria to reflect compact icon-only button design"
    last_validated:
      date: 2026-02-08
      validator: "AI Agent"
      result: "planned"

REQ-TOOLBAR_CONFIG:
  name: Configuration-Driven Toolbar Customization
  category: Functional
  priority: P1
  status: "Planned"
  rationale:
    why: "To maintain consistency with configuration-driven UI architecture and enable toolbar customization without code changes"
    problems_solved:
      - "Hard-coded toolbar layout"
      - "Fixed button selection"
      - "Inflexible styling"
      - "Template rigidity"
    benefits:
      - "Zero code changes for customization"
      - "Template flexibility"
      - "Easy experimentation and A/B testing"
      - "Internationalization ready"
  satisfaction_criteria:
    - criterion: "Toolbar visibility, position, button selection, grouping, and styling all configurable"
    - criterion: "Well-defined YAML schema in config/files.yaml and config/theme.yaml"
    - criterion: "TypeScript interfaces for all configuration structures"
    - criterion: "Sensible default configuration when custom config omitted"
    - criterion: "Configuration validation with helpful error messages"
  validation_criteria:
    - method: "Schema validation tests"
      coverage: "Configuration structure validation"
    - method: "Runtime validation tests"
      coverage: "Invalid config handling, fallbacks"
    - method: "Integration tests"
      coverage: "Configuration application to UI"
  traceability:
    architecture:
      - ARCH-TOOLBAR_LAYOUT
      - ARCH-CONFIG_DRIVEN_UI
    implementation:
      - IMPL-TOOLBAR_CONFIG
      - IMPL-CONFIG_LOADER
    tests:
      - src/lib/config.test.ts
      - src/app/files/components/Toolbar.test.tsx
    code_annotations:
      - REQ-TOOLBAR_CONFIG
  related_requirements:
    depends_on:
      - REQ-TOOLBAR_SYSTEM
      - REQ-CONFIG_DRIVEN_UI
    related_to:
      - REQ-CONFIG_DRIVEN_FILE_MANAGER
    supersedes: []
  detail_file: requirements/REQ-TOOLBAR_CONFIG.md
  metadata:
    created:
      date: 2026-02-08
      author: "AI Agent"
    last_updated:
      date: 2026-02-08
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-08
      validator: "AI Agent"
      result: "planned"

REQ-NSYNC_MULTI_TARGET:
  name: Multi-Destination File Synchronization
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Enable efficient copying/moving of files from source to multiple destinations in parallel, inspired by Goful's nsync usage"
    problems_solved:
      - "Sequential copy to multiple destinations is slow and inefficient"
      - "No built-in way to sync files to all visible panes"
      - "Difficult to verify that all destinations received files correctly"
    benefits:
      - "Parallel sync to multiple destinations for speed"
      - "CopyAll/MoveAll keyboard shortcuts for productivity"
      - "Progress tracking and error reporting per destination"
      - "Safe move semantics (delete source only after ALL succeed)"
  satisfaction_criteria:
    - criterion: "Sync files to 2+ destinations in parallel"
    - criterion: "Observer pattern for progress callbacks"
    - criterion: "Move semantics: delete source only after all destinations succeed"
    - criterion: "Cancellation support via AbortSignal"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Multi-destination sync, move semantics, observer callbacks"
    - method: "Integration tests"
      coverage: "CopyAll/MoveAll from React UI"
  traceability:
    architecture:
      - ARCH-NSYNC_INTEGRATION
    implementation:
      - IMPL-NSYNC_ENGINE
      - IMPL-NSYNC_OPERATIONS
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-NSYNC_MULTI_TARGET
  related_requirements:
    depends_on: []
    related_to:
      - REQ-BULK_FILE_OPS
      - REQ-MOVE_SEMANTICS
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation after nsync implementation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

REQ-HASH_COMPUTATION:
  name: Hash Computation for File Verification
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Support optional hash-based file comparison and verification for critical sync operations"
    problems_solved:
      - "Size+mtime comparison insufficient for detecting file corruption"
      - "Need cryptographic verification for critical backups"
      - "Multiple hash algorithms needed for different use cases"
    benefits:
      - "Detect file corruption or incomplete copies"
      - "Support BLAKE3 (fast), SHA-256 (standard), XXH3 (fastest non-crypto)"
      - "Streaming hash computation for large files"
  satisfaction_criteria:
    - criterion: "Support BLAKE3, SHA-256, XXH3 algorithms"
    - criterion: "Streaming hash computation for files > 1MB"
    - criterion: "Buffer-based hash for small files"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Hash computation correctness"
    - method: "Performance tests"
      coverage: "Streaming vs buffer performance"
  traceability:
    architecture:
      - ARCH-HASH_VERIFICATION
    implementation:
      - IMPL-NSYNC_HASH
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-HASH_COMPUTATION
  related_requirements:
    depends_on: []
    related_to:
      - REQ-VERIFY_DEST
      - REQ-COMPARE_METHODS
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

REQ-VERIFY_DEST:
  name: Destination Verification by Hash
  category: Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Optional verification that destination files match source after copy to detect corruption"
    problems_solved:
      - "Silent data corruption during copy"
      - "Network interruptions causing incomplete copies"
      - "Unreliable external drives"
    benefits:
      - "Guarantee destination integrity"
      - "Detect corrupted copies immediately"
      - "Optional feature (off by default for speed)"
  satisfaction_criteria:
    - criterion: "Recompute hash on destination after copy"
    - criterion: "Compare destination hash to source hash"
    - criterion: "Report verification failure with clear error"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Verification success and failure cases"
  traceability:
    architecture:
      - ARCH-HASH_VERIFICATION
    implementation:
      - IMPL-NSYNC_VERIFY
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-VERIFY_DEST
  related_requirements:
    depends_on:
      - REQ-HASH_COMPUTATION
    related_to:
      - REQ-NSYNC_MULTI_TARGET
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

REQ-STORE_FAILURE_DETECT:
  name: Store Failure Detection
  category: Non-Functional
  priority: P2
  status: "Implemented"
  rationale:
    why: "Detect when external drives or network shares become unavailable to avoid wasteful retries"
    problems_solved:
      - "Sync continues retrying when drive detached"
      - "No detection of network share disconnection"
      - "Wasted time on unavailable destinations"
    benefits:
      - "Early abort on store failure"
      - "Clear error classification"
      - "Simplified implementation (error streaks vs device IDs)"
  satisfaction_criteria:
    - criterion: "Track error streaks per destination"
    - criterion: "Mark store unavailable after 3+ sequential errors"
    - criterion: "Abort sync if store becomes unavailable"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Error streak tracking, abort logic"
  traceability:
    architecture:
      - ARCH-STORE_MONITORING
    implementation:
      - IMPL-NSYNC_STORE
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-STORE_FAILURE_DETECT
  related_requirements:
    depends_on: []
    related_to:
      - REQ-NSYNC_MULTI_TARGET
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

REQ-COMPARE_METHODS:
  name: File Comparison Methods
  category: Functional
  priority: P1
  status: "Implemented"
  rationale:
    why: "Skip unchanged files during sync to save time and bandwidth"
    problems_solved:
      - "Unnecessary copying of identical files"
      - "Slow sync when most files unchanged"
      - "Need different comparison methods for different scenarios"
    benefits:
      - "Fast size-based comparison (default)"
      - "Accurate hash-based comparison (optional)"
      - "Flexible comparison methods for different use cases"
  satisfaction_criteria:
    - criterion: "Support none, size, mtime, size-mtime, hash comparison"
    - criterion: "Default to size-mtime for speed"
    - criterion: "Allow per-operation comparison method selection"
  validation_criteria:
    - method: "Unit tests"
      coverage: "All comparison methods, edge cases"
  traceability:
    architecture: []
    implementation:
      - IMPL-NSYNC_COMPARE
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-COMPARE_METHODS
  related_requirements:
    depends_on: []
    related_to:
      - REQ-HASH_COMPUTATION
      - REQ-NSYNC_MULTI_TARGET
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

REQ-MOVE_SEMANTICS:
  name: Safe Move Semantics
  category: Functional
  priority: P0
  status: "Implemented"
  rationale:
    why: "Ensure source files only deleted after ALL destinations succeed to prevent data loss"
    problems_solved:
      - "Source deleted even when some destinations failed"
      - "Data loss on partial move failure"
      - "Inconsistent state across destinations"
    benefits:
      - "Data safety guarantee"
      - "Clear failure recovery (source preserved)"
      - "Predictable move behavior"
  satisfaction_criteria:
    - criterion: "Source deleted only after ALL destinations succeed"
    - criterion: "Source preserved if ANY destination fails"
    - criterion: "Clear error reporting for partial failures"
  validation_criteria:
    - method: "Unit tests"
      coverage: "Move success, partial failure, full failure"
  traceability:
    architecture: []
    implementation:
      - IMPL-NSYNC_ENGINE
      - IMPL-NSYNC_OPERATIONS
    tests:
      - src/lib/sync/engine.test.ts
    code_annotations:
      - REQ-MOVE_SEMANTICS
  related_requirements:
    depends_on: []
    related_to:
      - REQ-NSYNC_MULTI_TARGET
    supersedes: []
  detail_file: null
  metadata:
    created:
      date: 2026-02-09
      author: "AI Agent"
    last_updated:
      date: 2026-02-09
      author: "AI Agent"
      reason: "Initial creation"
    last_validated:
      date: 2026-02-09
      validator: "AI Agent"
      result: "implemented"

